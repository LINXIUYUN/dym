<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="zh-CN">
<!--/*@thymesVar id="userInfo" type="cn.linxiuyun.dym.vo.UserInfoVo"*/-->
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>新闻传播学院党员管理系统</title>

    <!-- Bootstrap -->
    <link href="/css/bootstrap.min.css" rel="stylesheet"/>

    <style type="text/css">
        body {
            padding-top: 2.5%;
        }

        #img {
            z-index: -1;
            position: fixed;
            top: 50px;
            left: 0;
            width: 100%;
            height: 100%;
        }

        #img1 {
            z-index: 16;
            position: absolute;
            top: 106%;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .row {
            z-index: 15;
            position: fixed;
            top: 45%;
            left: 0;
            width: 100%;
        }

        .navbar-inverse .navbar-nav > .active > a:hover {
            background-color: #8D0000
        }

        .navbar-inverse .navbar-nav > .active > a {
            background-color: #8D0000
        }

        .form-group {
            margin-bottom: 50px;
        }

        .form-control {
            padding: 10px 20px;
            font-size: 20px;
            height: auto;
            border-radius: 0;
            background: #f1f4f7;
            border: none;
        }

        label {
            font-size: 20px;
            text-align: center;
        }

        p {
            font-size: 14px;
            line-height: 2;
        }

        .quoteSticky {
            position: fixed;
            top: 120px;
            left: 60%;
            z-index: 101;
            padding-top: 0;
        }


    </style>
</head>
<body>
<nav class="navbar navbar-inverse navbar-fixed-top ">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <a class="navbar-brand" href="#">新闻与传播学院党员管理系统</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">

            <ul class="nav navbar-nav navbar-right">
                <li><a href="registrer.html">注册</a></li>
                <li><a href="ad-sign.html">管理员登录</a></li>
                <li><a href="sign.html">学生登录</a></li>
            </ul>
        </div><!-- /.navbar-collapse -->
    </div><!-- /.container-fluid -->
</nav>

<nav class="navbar navbar-inverse navbar-fixed-top "
     style="top: 50px;height: 80px;background-color: rgba(220,16,16,0.9);border: 0px">
    <div class="container-fluid" style="margin-top: 15px">
        <!-- Brand and toggle get grouped for better mobile display -->
        <!--<div class="navbar-header">
          <a class="navbar-brand" href="#" style="margin-left:90%;width: 230px;">新闻员管理系统</a>
        </div>-->

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse">
            <ul class="nav navbar-nav" style="margin-left:40%;">
                <li><a href="/view/index.do">首页 <span class="sr-only">(current)</span></a></li>
                <li class="active"><a href="/view/personal_info.do">个人信息</a></li>
                <li><a href="/view/award_punishment.do">奖惩录入</a></li>
                <li><a href="/view/apply.do">申请入党</a></li>
                <li><a href="/view/related.do">组织关系</a></li>
                <li><a href="/view/learn.do">在线学习</a></li>
            </ul>
        </div>
    </div><!-- /.container-fluid -->
</nav>

<div class="container" style="padding-top: 150px">

    <div class="col-md-8" style="border-right: 1px dashed #f7f7f7">

        <form class="form-horizontal" style="" id="infoForm">
            <div class="form-group">
                <label class="col-sm-3 control-label">姓名</label>
                <div class="col-sm-9">
                    <input type="text" id="name" class="form-control" th:value="${userInfo.getName()}"/>
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-3 control-label">性别</label>
                <div class="col-sm-9">
                    <select class="form-control" id="gender">
                        <th:block th:if="${userInfo.getGender()==0}">
                            <option value="0" selected="selected">男</option>
                            <option value="1">女</option>
                        </th:block>
                        <th:block th:if="${userInfo.getGender()==1}">
                            <option value="0">男</option>
                            <option value="1" selected="selected">女</option>
                        </th:block>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-3 control-label">出生年月日</label>
                <div class="col-sm-9">
                    <input type="text" class="form-control" id="birthday" editable="false" th:value="${userInfo.getBirthday()}"/>
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-3 control-label" >入团时间</label>
                <div class="col-sm-9">
                    <input type="data" class="form-control" onkeypress="false" id="joinCylTime" th:value="${userInfo.getJoinCylTime()}"/>
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-3 control-label">民族</label>
                <div class="col-sm-9">
                    <select class="form-control" id="nation" th:value="${userInfo.getNation()}">
                        <option selected="selected">汉族</option>
                        <option>蒙古族</option>
                        <option>回族</option>
                        <option>藏族</option>
                        <option>维吾尔族</option>
                        <option>苗族</option>
                        <option>彝族</option>
                        <option>壮族</option>
                        <option>布衣族</option>
                        <option>朝鲜族</option>
                        <option>满族</option>
                        <option>侗族</option>
                        <option>瑶族</option>
                        <option>白族</option>
                        <option>土家族</option>
                        <option>哈尼族</option>
                        <option>哈萨克族</option>
                        <option>傣族</option>
                        <option>黎族</option>
                        <option>傈傈族</option>
                        <option>佤族</option>
                        <option>畲族</option>
                        <option>高山族</option>
                        <option>拉枯族</option>
                        <option>水族</option>
                        <option>东乡族</option>
                        <option>纳西族</option>
                        <option>柯尔克孜族</option>
                        <option>土族</option>
                        <option>达斡尔族</option>
                        <option>仫佬族</option>
                        <option>羌族</option>
                        <option>布朗族</option>
                        <option>毛南族</option>
                        <option>仡佬族</option>
                        <option>锡伯族</option>
                        <option>阿昌族</option>
                        <option>普米族</option>
                        <option>塔吉克族</option>
                        <option>怒族</option>
                        <option>乌兹别克族</option>
                        <option>俄罗斯族</option>
                        <option>鄂温克族</option>
                        <option>德昂族</option>
                        <option>保安族</option>
                        <option>裕固族</option>
                        <option>京族</option>
                        <option>塔塔尔族</option>
                        <option>独龙族</option>
                        <option>鄂伦春族</option>
                        <option>赫哲族</option>
                        <option>门巴族</option>
                        <option>珞巴族</option>
                        <option>基诺族</option>


                    </select>
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-3 control-label" >籍贯</label>
                <div class="col-sm-9" style="height: 20px">


                    <div data-toggle="distpicker" id="nationAddress">
                        <div class="form-group" style="width: 30%;float: left;margin-right: 35px;margin-left: 0px">
                            <label class="sr-only" for="province"></label>
                            <select class="form-control" id="province" ></select>
                        </div>
                        <div class="form-group" style="width: 30%;float: left;margin-right: 35px">
                            <label class="sr-only" for="city"></label>
                            <select class="form-control" id="city" ></select>
                        </div>
                        <div class="form-group" style="width: 30%;float: left;">
                            <label class="sr-only" for="district"></label>
                            <select class="form-control" id="district" ></select>
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-3 control-label">婚姻状态</label>
                <div class="col-sm-9">
                    <select id="maritalStatus" class="form-control">
                        <th:block th:if="${userInfo.getMaritalStatus()==0}">
                            <option selected="selected"  value="0">未婚</option>
                            <option value = "1" >已婚</option>
                            <option value = "2">离异</option>
                        </th:block>
                        <th:block th:if="${userInfo.getMaritalStatus()==1}">
                            <option value = "0">未婚</option>
                            <option value = "1"  selected="selected">已婚</option>
                            <option value = "2">离异</option>
                        </th:block>
                        <th:block th:if="${userInfo.getMaritalStatus()==2}">
                            <option value = "0">未婚</option>
                            <option value = "1">已婚</option>
                            <option value = "2"  selected="selected">离异</option>
                        </th:block>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-3 control-label">身份证号码</label>
                <div class="col-sm-9">
                    <input type="text" class="form-control" id="idNo"/>
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-3 control-label">学历学位</label>
                <div class="col-sm-9">
                    <select id="education" class="form-control">
                        <th:block th:if="${userInfo.getEducation()==0}">
                            <option selected="selected" value="0">本科</option>
                            <option value="1">硕士研究生</option>
                            <option value="2">博士研究生</option>
                            <option value="3">其他</option>
                        </th:block>
                        <th:block th:if="${userInfo.getEducation()==1}">
                            <option value="0">本科</option>
                            <option value="1" selected="selected" >硕士研究生</option>
                            <option value="2">博士研究生</option>
                            <option value="3">其他</option>
                        </th:block>
                        <th:block th:if="${userInfo.getEducation()==2}">
                            <option value="0">本科</option>
                            <option value="1">硕士研究生</option>
                            <option value="2" selected="selected" >博士研究生</option>
                            <option value="3">其他</option>
                        </th:block>
                        <th:block th:if="${userInfo.getEducation()==3}">
                            <option value="0">本科</option>
                            <option value="1">硕士研究生</option>
                            <option value="2">博士研究生</option>
                            <option value="3" selected="selected" >其他</option>
                        </th:block>

                    </select>
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-3 control-label">专业班级</label>
                <div class="col-sm-9">
                    <input type="text" class="form-control" id="majorAndClass"/>
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-3 control-label">是否是党员</label>
                <div class="col-sm-9">
                    <select id="isPartyMember" class="form-control">
                        <th:block th:if="${userInfo.getIsPartyMember()==0}">
                            <option th:value="1">否</option>
                            <option th:value="0" selected="selected">是</option>
                        </th:block>
                       <th:block th:if="${userInfo.getIsPartyMember()}==1">
                           <option th:value="1" selected="selected">否</option>
                           <option th:value="0">是</option>
                       </th:block>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-3 control-label">入党时间</label>
                <div class="col-sm-9">
                    <input type="text" class="form-control" id="partyTime"/>
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-3 control-label">入党时所属党支部</label>
                <div class="col-sm-9" style="height: 20px">
                    <div data-toggle="distpicker" id="partyAddress">
                        <div class="form-group" style="width: 30%;float: left;margin-right: 35px;margin-left: 0px">
                            <label class="sr-only" for="partyProvince"></label>
                            <select class="form-control" id="partyProvince" ></select>
                        </div>
                        <div class="form-group" style="width: 30%;float: left;margin-right: 35px;">
                            <label class="sr-only" for="partyCity"></label>
                            <select class="form-control" id="partyCity" ></select>
                        </div>
                        <div class="form-group" style="width: 30%;float: left; ">
                            <label class="sr-only" for="partyDistrict"></label>
                            <select class="form-control" id="partyDistrict" ></select>
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-3 control-label">备注</label>
                <div class="col-sm-9">
                    <textarea class="form-control" rows="8" id="remarks"></textarea>
                </div>
            </div>

            <div class="form-group">
                <div class="col-sm-3"></div>
                <div class="col-sm-9">
                    <button type="button" class="btn btn-danger btn-lg" style="width: 100%" id="submit">确定</button>
                </div>
            </div>

        </form>

    </div>

    <div class="col-md-4 quoteSticky">
        <div style="padding:5px 10px 10px 10px;margin: 80px 30px">
            <img src="/images/1.jpg" width="200px" style="margin-bottom: 40px"/>
            <img src="/images/2.png" width="200px" style="margin-bottom: 40px"/>
            <img src="/images/3.png" width="200px" style="margin-bottom: 40px"/>
        </div>
    </div>

</div>
<script type="text/javascript" th:src="@{/js/html5shiv.min.js}"></script>
<script type="text/javascript" th:src="@{/js/respond.min.js}"></script>
<script type="text/javascript" th:src="@{/js/jquery-3.3.1.js}"></script>
<script type="text/javascript" th:src="@{/js/bootstrap.min.js}"></script>
<script type="text/javascript" th:src="@{/js/jquery.md5.js}"></script>
<script type="text/javascript" th:src="@{/js/distpicker.data.js}"></script>
<script type="text/javascript" th:src="@{/js/distpicker.js}"></script>
<script type="text/javascript" th:src="@{/js/main.js}"></script>
<script type="text/javascript" th:src="@{/js/laydate.js}"></script>
<script th:inline="javascript">

    /*<![CDATA[*/

    $('#submit').click(function () {
        var param = {
            name:$('#name').val(),
            birthday:$('#birthday').val(),
            joinCylTime:$('#joinCylTime').val(),
            nation:$('#nation').val(),
            province:$('#province').val(),
            city:$('#city').val(),
            district:$('#district').val(),
            maritalStatus:$('#maritalStatus').val(),
            idNo:$('#idNo').val(),
            education:$('#education').val(),
            majorAndClass:$('#majorAndClass').val(),
            isPartyMember:$('#isPartyMember').val(),
            partyProvince:$('#partyProvince').val(),
            partyCity:$('#partyCity').val(),
            partyDistrict:$('#partyDistrict').val(),
            remarks:$('#remarks').val(),
            gender:$('#gender')
        };

        $.post("/user/userInfo/save",param,function (data) {
            if(data.detailMsg!=null){
                alert(data.detailMsg)
            }else {
                alert(data.msg);
            }
        });
    });

    laydate.render({
        elem: '#birthday'
    });

    laydate.render({
        elem: '#joinCylTime'
    });

    laydate.render({
        elem: '#partyTime'
    });


    $('#nationAddress').distpicker({
        province:[[${userInfo.getProvince()}]],
        city:[[${userInfo.getCity()}]],
        district:[[${userInfo.getDistrict()}]]
    });

    var partyProvince = [[${userInfo.getPartyProvince()}]];
    var partyCity = [[${userInfo.getPartyCity()}]];
    var partyDistrict = [[${userInfo.getPartyDistrict()}]];

    if(partyCity==null||partyProvince==null||partyDistrict==null){
        $('#partyAddress').distpicker({
            province:'--选择省--',
            city:'--选择市--',
            district:'--选择区--'
        });
    }else {
        $('#partyAddress').distpicker({
            province:partyProvince,
            city:partyCity,
            district:partyDistrict
        });
    }

    /*]]>*/

</script>
</body>
</html>